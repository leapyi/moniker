<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Code :: Black — Manifesto</title>
<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Bebas+Neue&family=DM+Serif+Display:ital@0;1&display=swap" rel="stylesheet">
<style>
  :root {
    --black: #080808;
    --white: #f0ece4;
    --accent: #c8f000;
    --dim: #3a3a3a;
    --mid: #888;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--black);
    color: var(--white);
    font-family: 'Share Tech Mono', monospace;
    overflow-x: hidden;
    cursor: crosshair;
  }

  /* ─── FLASHSCREEN ─── */
  #flashscreen {
    position: fixed;
    inset: 0;
    background: var(--black);
    z-index: 1000;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    cursor: crosshair;
  }

  #flashscreen.hide {
    animation: screenExit 0.9s cubic-bezier(0.77,0,0.175,1) 0.2s forwards;
  }

  @keyframes screenExit {
    0%   { clip-path: inset(0 0 0 0); opacity: 1; }
    60%  { clip-path: inset(0 0 0 0); opacity: 1; }
    100% { clip-path: inset(50% 0 50% 0); opacity: 0; pointer-events: none; }
  }

  .flash-top-bar {
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 3px;
    background: var(--accent);
    transform: scaleX(0);
    transform-origin: left;
    animation: barGrow 1.2s cubic-bezier(0.23,1,0.32,1) 0.3s forwards;
  }

  @keyframes barGrow { to { transform: scaleX(1); } }

  .flash-grid {
    position: absolute;
    inset: 0;
    background-image:
      linear-gradient(rgba(200,240,0,0.03) 1px, transparent 1px),
      linear-gradient(90deg, rgba(200,240,0,0.03) 1px, transparent 1px);
    background-size: 60px 60px;
    animation: gridFade 2s ease forwards;
  }

  @keyframes gridFade {
    0%   { opacity: 0; }
    30%  { opacity: 1; }
    100% { opacity: 0.4; }
  }

  .flash-scanlines {
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0,0,0,0.12) 2px,
      rgba(0,0,0,0.12) 4px
    );
    pointer-events: none;
  }

  .flash-center {
    position: relative;
    text-align: center;
    z-index: 2;
  }

  .flash-init {
    font-size: 10px;
    letter-spacing: 0.4em;
    color: var(--accent);
    text-transform: uppercase;
    margin-bottom: 32px;
    opacity: 0;
    animation: fadeIn 0.5s ease 0.4s forwards;
  }

  .flash-name {
    font-family: 'Bebas Neue', sans-serif;
    font-size: clamp(64px, 16vw, 160px);
    line-height: 0.88;
    letter-spacing: -0.01em;
    color: var(--white);
    opacity: 0;
    animation: glitchIn 0.6s ease 0.7s forwards;
  }

  .flash-name .colon { color: var(--accent); }

  @keyframes glitchIn {
    0%   { opacity: 0; transform: translateX(-8px); filter: blur(6px); }
    40%  { opacity: 1; transform: translateX(3px);  filter: blur(0); }
    60%  { transform: translateX(-2px); }
    80%  { transform: translateX(1px); }
    100% { opacity: 1; transform: translateX(0); }
  }

  .flash-author-line {
    margin-top: 28px;
    font-size: 11px;
    letter-spacing: 0.3em;
    color: var(--mid);
    text-transform: uppercase;
    opacity: 0;
    animation: fadeIn 0.6s ease 1.1s forwards;
  }

  .flash-author-line span { color: var(--white); }

  .flash-loading {
    margin-top: 56px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    opacity: 0;
    animation: fadeIn 0.5s ease 1.3s forwards;
  }

  .flash-loading-label { font-size: 9px; letter-spacing: 0.35em; color: var(--mid); text-transform: uppercase; }

  .flash-bar-track {
    width: 200px;
    height: 2px;
    background: var(--dim);
    position: relative;
    overflow: hidden;
  }

  .flash-bar-fill {
    position: absolute;
    top: 0; left: 0;
    height: 100%;
    width: 0;
    background: var(--accent);
    animation: loadFill 1.6s cubic-bezier(0.23,1,0.32,1) 1.4s forwards;
  }

  @keyframes loadFill { 0% { width: 0; } 60% { width: 85%; } 100% { width: 100%; } }

  .flash-enter-hint {
    margin-top: 40px;
    font-size: 9px;
    letter-spacing: 0.4em;
    color: var(--accent);
    text-transform: uppercase;
    opacity: 0;
    animation: blinkHint 1s ease 3s infinite alternate;
  }

  @keyframes blinkHint { from { opacity: 0; } to { opacity: 1; } }

  .flash-corner {
    position: absolute;
    font-size: 9px;
    letter-spacing: 0.2em;
    color: var(--dim);
    font-family: 'Share Tech Mono', monospace;
    line-height: 1.9;
  }
  .flash-corner.tl { top: 24px; left: 32px; }
  .flash-corner.tr { top: 24px; right: 32px; text-align: right; }
  .flash-corner.bl { bottom: 24px; left: 32px; }
  .flash-corner.br { bottom: 24px; right: 32px; text-align: right; }

  /* ─── MAIN ─── */
  #main { opacity: 0; transition: opacity 0.8s ease 0.3s; }
  #main.visible { opacity: 1; }

  #main::before {
    content: '';
    position: fixed;
    inset: 0;
    background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,0,0,0.07) 2px, rgba(0,0,0,0.07) 4px);
    pointer-events: none;
    z-index: 100;
  }

  #main::after {
    content: '';
    position: fixed;
    inset: -50%;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E");
    pointer-events: none;
    z-index: 99;
    opacity: 0.4;
  }

  .wrapper { max-width: 860px; margin: 0 auto; padding: 80px 40px 120px; position: relative; }

  .header { border-top: 1px solid var(--accent); border-bottom: 1px solid var(--dim); padding: 12px 0; display: flex; justify-content: space-between; align-items: center; margin-bottom: 90px; opacity: 0; animation: fadeUp 0.8s ease 0.1s forwards; }
  .header .meta { font-size: 10px; letter-spacing: 0.2em; color: var(--mid); text-transform: uppercase; }
  .header .version { font-size: 10px; color: var(--accent); letter-spacing: 0.15em; }

  .title-block { margin-bottom: 80px; opacity: 0; animation: fadeUp 0.9s ease 0.3s forwards; }
  .label { font-size: 10px; letter-spacing: 0.3em; color: var(--accent); text-transform: uppercase; margin-bottom: 16px; }
  .title { font-family: 'Bebas Neue', sans-serif; font-size: clamp(72px, 14vw, 148px); line-height: 0.9; letter-spacing: -0.01em; color: var(--white); display: block; }
  .title span { color: var(--accent); }
  .subtitle { margin-top: 24px; font-size: 11px; color: var(--mid); letter-spacing: 0.25em; text-transform: uppercase; }
  .author-block { margin-top: 22px; font-size: 14px; letter-spacing: 0.26em; color: var(--mid); text-transform: uppercase; display: flex; align-items: center; gap: 14px; }
  .author-block::before { content: ""; display: inline-block; width: 32px; height: 1px; background: var(--accent); flex-shrink: 0; }
  .author-block span { color: var(--white); font-size: 14px; letter-spacing: 0.2em; text-shadow: 0 0 18px rgba(200,240,0,0.25); }

  .divider { display: flex; align-items: center; gap: 16px; margin: 60px 0; opacity: 0; animation: fadeUp 0.8s ease forwards; }
  .divider::before, .divider::after { content: ''; flex: 1; height: 1px; background: var(--dim); }
  .divider span { font-size: 9px; letter-spacing: 0.3em; color: var(--mid); text-transform: uppercase; white-space: nowrap; }

  .section { margin-bottom: 64px; opacity: 0; animation: fadeUp 0.8s ease forwards; }
  .section-num { font-size: 9px; color: var(--accent); letter-spacing: 0.25em; margin-bottom: 20px; display: block; }
  .section p { font-family: 'DM Serif Display', serif; font-size: clamp(18px, 3vw, 26px); line-height: 1.55; color: var(--white); font-weight: 400; }
  .section p em { font-style: italic; color: #bbb; }

  .pull-quote { border-left: 3px solid var(--accent); padding: 4px 0 4px 28px; margin: 48px 0; opacity: 0; animation: fadeUp 0.8s ease forwards; }
  .pull-quote p { font-family: 'Bebas Neue', sans-serif; font-size: clamp(28px, 5vw, 52px); line-height: 1.1; color: var(--white); letter-spacing: 0.02em; }
  .pull-quote p span { color: var(--accent); }

  .code-line { font-family: 'Share Tech Mono', monospace; font-size: 13px; color: var(--accent); background: rgba(200,240,0,0.04); border: 1px solid rgba(200,240,0,0.12); padding: 14px 20px; margin: 32px 0; display: block; opacity: 0; animation: fadeUp 0.8s ease forwards; letter-spacing: 0.05em; }
  .code-line .comment { color: var(--dim); }

  .traits { display: grid; grid-template-columns: 1fr 1fr; gap: 2px; margin: 48px 0; opacity: 0; animation: fadeUp 0.8s ease forwards; }
  .trait { background: rgba(255,255,255,0.02); padding: 20px 22px; border: 1px solid var(--dim); transition: border-color 0.2s, background 0.2s; }
  .trait:hover { border-color: var(--accent); background: rgba(200,240,0,0.03); }
  .trait-key { font-size: 9px; letter-spacing: 0.25em; color: var(--accent); text-transform: uppercase; margin-bottom: 8px; display: block; }
  .trait-val { font-family: 'DM Serif Display', serif; font-size: 16px; color: var(--white); line-height: 1.4; }

  .final { margin-top: 80px; border-top: 1px solid var(--dim); padding-top: 48px; opacity: 0; animation: fadeUp 0.9s ease forwards; }
  .final p { font-family: 'DM Serif Display', serif; font-size: clamp(20px, 3.5vw, 32px); line-height: 1.5; color: #ccc; font-style: italic; }
  .final p strong { font-style: normal; color: var(--accent); font-family: 'Share Tech Mono', monospace; font-size: 0.85em; }

  .sig { margin-top: 60px; display: flex; justify-content: space-between; align-items: flex-end; opacity: 0; animation: fadeUp 0.8s ease forwards; }
  .sig-name { font-family: 'Bebas Neue', sans-serif; font-size: 42px; letter-spacing: 0.06em; color: var(--white); line-height: 1; }
  .sig-name span { color: var(--accent); }
  .sig-author { font-size: 12px; color: var(--mid); letter-spacing: 0.22em; text-transform: uppercase; margin-top: 8px; }
  .sig-meta { font-size: 9px; color: var(--mid); letter-spacing: 0.2em; text-align: right; line-height: 2; }

  @keyframes fadeUp { from { opacity: 0; transform: translateY(18px); } to { opacity: 1; transform: translateY(0); } }
  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

  .header         { animation-delay: 0.1s; }
  .title-block    { animation-delay: 0.3s; }
  .divider:nth-of-type(1) { animation-delay: 0.5s; }
  .section:nth-of-type(1) { animation-delay: 0.55s; }
  .section:nth-of-type(2) { animation-delay: 0.65s; }
  .section:nth-of-type(3) { animation-delay: 0.75s; }
  .section:nth-of-type(4) { animation-delay: 0.85s; }
  .pull-quote             { animation-delay: 0.95s; }
  .code-line              { animation-delay: 1.0s; }
  .traits                 { animation-delay: 1.05s; }
  .final                  { animation-delay: 1.15s; }
  .sig                    { animation-delay: 1.25s; }

  .cursor { display: inline-block; width: 10px; height: 0.85em; background: var(--accent); margin-left: 4px; vertical-align: bottom; animation: blink 1.1s step-end infinite; }
  @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

  /* ─── CUSTOM CURSOR ─── */
  * { cursor: none !important; }

  #cur-dot {
    position: fixed;
    top: 0; left: 0;
    width: 6px; height: 6px;
    background: var(--accent);
    border-radius: 50%;
    pointer-events: none;
    z-index: 9999;
    margin: -3px 0 0 -3px;
    box-shadow: 0 0 6px var(--accent);
  }

  #cur-ring {
    position: fixed;
    top: 0; left: 0;
    width: 28px; height: 28px;
    border: 1px solid rgba(200,240,0,0.6);
    border-radius: 50%;
    pointer-events: none;
    z-index: 9998;
    margin: -14px 0 0 -14px;
    transition: width 0.25s ease, height 0.25s ease, margin 0.25s ease, border-color 0.2s;
  }

  #cur-ring.expand {
    width: 50px; height: 50px;
    margin: -25px 0 0 -25px;
    border-color: var(--accent);
  }

  /* ─── PARTICLE CANVAS ─── */
  #particle-canvas {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 1;
  }

  /* ─── SCROLL PROGRESS ─── */
  #scroll-progress {
    position: fixed;
    top: 0; left: 0;
    height: 2px;
    width: 0%;
    background: var(--accent);
    z-index: 500;
    box-shadow: 0 0 10px var(--accent), 0 0 20px var(--accent);
    transition: width 0.08s linear;
  }

  /* ─── GLITCH TEXT ─── */
  .glitch-target { position: relative; display: inline-block; }

  .glitch-target.glitching {
    animation: glitchFlicker 0.35s steps(1) forwards;
  }

  .glitch-target.glitching::before {
    content: attr(data-text);
    position: absolute;
    left: 2px; top: 0;
    color: #ff003c;
    clip-path: inset(0 0 60% 0);
    animation: glitchClip1 0.35s steps(2) forwards;
    opacity: 0.85;
    white-space: nowrap;
  }

  .glitch-target.glitching::after {
    content: attr(data-text);
    position: absolute;
    left: -2px; top: 0;
    color: #00f0ff;
    clip-path: inset(40% 0 0 0);
    animation: glitchClip2 0.35s steps(2) forwards;
    opacity: 0.85;
    white-space: nowrap;
  }

  @keyframes glitchFlicker {
    0%,100% { transform: none; }
    25%     { transform: translateX(3px) skewX(-3deg); }
    50%     { transform: translateX(-3px) skewX(2deg); }
    75%     { transform: translateX(1px); }
  }

  @keyframes glitchClip1 {
    0%   { clip-path: inset(0 0 80% 0); transform: translateX(0); }
    50%  { clip-path: inset(20% 0 40% 0); transform: translateX(4px); }
    100% { clip-path: inset(65% 0 0 0); transform: translateX(0); }
  }

  @keyframes glitchClip2 {
    0%   { clip-path: inset(60% 0 0 0); transform: translateX(0); }
    50%  { clip-path: inset(30% 0 20% 0); transform: translateX(-4px); }
    100% { clip-path: inset(0 0 75% 0); transform: translateX(0); }
  }

  /* ─── TYPEWRITER CURSOR ─── */
  .tw-cursor {
    color: var(--accent);
    animation: blink 0.7s step-end infinite;
    font-family: 'Share Tech Mono', monospace;
    font-size: 0.85em;
  }

  /* ─── TRAIT CARD TILT ─── */
  .trait {
    transition: transform 0.12s ease, border-color 0.2s, background 0.2s;
    transform-style: preserve-3d;
    will-change: transform;
  }

  /* ─── SECTION GLOW ON ENTER ─── */
  .section.in-view .section-num {
    text-shadow: 0 0 14px var(--accent);
  }

  /* ensure wrapper above bg layers */
  .wrapper { position: relative; z-index: 10; }
  #main::before, #main::after { z-index: 2; }
  #particle-canvas { z-index: 1; }

  /* ─── TITLE HOVER ─── */
  .title { transition: text-shadow 0.4s; }
  .title:hover { text-shadow: 0 0 40px rgba(200,240,0,0.25); }

  @media (max-width: 600px) {
    .wrapper { padding: 50px 24px 80px; }
    .traits { grid-template-columns: 1fr; }
    .sig { flex-direction: column; gap: 20px; align-items: flex-start; }
    .sig-meta { text-align: left; }
    .flash-corner.tr, .flash-corner.br { display: none; }
  }
</style>
</head>
<body>

<!-- FLASHSCREEN -->
<div id="flashscreen">
  <div class="flash-grid"></div>
  <div class="flash-scanlines"></div>
  <div class="flash-top-bar"></div>

  <div class="flash-corner tl">SYS :: BOOT<br>v1.0.0</div>
  <div class="flash-corner tr">MANIFESTO.EXE<br>INITIALIZING...</div>
  <div class="flash-corner bl">STATUS: RUNNING</div>
  <div class="flash-corner br">AUTHOR: L.D.O.B<br>COMPILED — 2026</div>

  <div class="flash-center">
    <div class="flash-init">// identity declaration</div>
    <div class="flash-name">CODE<span class="colon">::</span><br>BLACK</div>
    <div class="flash-author-line">by <span>Lorenz Dion O. Baldeo</span></div>
    <div class="flash-loading">
      <div class="flash-loading-label">compiling manifesto...</div>
      <div class="flash-bar-track"><div class="flash-bar-fill"></div></div>
    </div>
    <div class="flash-enter-hint">[ click anywhere to enter ]</div>
  </div>
</div>

<!-- MAIN -->
<div id="main">
<div class="wrapper">

  <div class="header">
    <span class="meta">manifesto.md — v1.0.0</span>
    <span class="version">CODE :: BLACK</span>
  </div>

  <div class="title-block">
    <div class="label">// identity declaration</div>
    <span class="title">CODE<span>::</span><br>BLACK<span class="cursor"></span></span>
    <p class="subtitle">The Programmer's Manifesto — Compiled in Production</p>
    <p class="author-block">by <span>Lorenz Dion O. Baldeo</span></p>
  </div>

  <div class="divider"><span>// core doctrine</span></div>

  <div class="section">
    <span class="section-num">01 — PURPOSE</span>
    <p>I do not write code. I write <em>intent</em> — translated into logic, compressed into precision, and executed without apology. Every problem is a test case, every challenge is a constraint, and every victory is an opportunity.</p>
  </div>

  <div class="section">
    <span class="section-num">02 — METHODOLOGY</span>
    <p>Like dynamic programming in a Knapsack, I extract the optimal from the naive. I do not brute-force my way through problems — I decompose them, identify the substructure, and build solutions that hold at every scale. Every line, every function, every edge case is accounted for. <em>No wasted cycles.</em></p>
  </div>

  <div class="pull-quote">
    <p>Discipline and focus are my <span>invariants</span>.<br>Curiosity is my heuristic.</p>
  </div>

  <div class="section">
    <span class="section-num">03 — FOUNDATION</span>
    <p>Precision, patience, and persistence fuel every move — they are constants in a world of variables. While others iterate blindly, I set boundaries. Every variable has a purpose. Every loop has a limit. Nothing runs unbounded.</p>
  </div>

  <div class="code-line">
    <span class="comment">// runtime constraints</span><br>
    const DISCIPLINE = true; &nbsp;<span class="comment">// invariant</span><br>
    const FOCUS &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= true; &nbsp;<span class="comment">// invariant</span><br>
    let &nbsp;curiosity &nbsp;= ƒ(unknown); <span class="comment">// heuristic — always searching</span>
  </div>

  <div class="section">
    <span class="section-num">04 — BALANCE</span>
    <p>I balance trade-offs like a perfectly weighted binary heap — every decision made with awareness of cost, every optimization grounded in evidence. Speed against robustness. Elegance against legibility. I choose deliberately, never by default.</p>
  </div>

  <div class="divider"><span>// trait constants</span></div>

  <div class="traits">
    <div class="trait"><span class="trait-key">precision</span><div class="trait-val">Exact to the last bit. No ambiguity survives my review.</div></div>
    <div class="trait"><span class="trait-key">patience</span><div class="trait-val">I wait for the right solution. Not the fast one.</div></div>
    <div class="trait"><span class="trait-key">persistence</span><div class="trait-val">Every failure is a failing test. I fix it and run again.</div></div>
    <div class="trait"><span class="trait-key">curiosity</span><div class="trait-val">The heuristic that drives me past what is known.</div></div>
    <div class="trait"><span class="trait-key">discipline</span><div class="trait-val">My invariant. It doesn't compile when I'm absent.</div></div>
    <div class="trait"><span class="trait-key">optimality</span><div class="trait-val">I don't settle for O(n²) when O(n log n) exists.</div></div>
  </div>

  <div class="final">
    <p>I operate at the intersection of art and architecture — where logic is poetry and structure is style. The edge cases others ignore are the cases I design for first. My code doesn't just work. It <strong>endures</strong>.<br><br>
    If you want, I can draft an even brighter, more chaotic, more seamless version — one that throws exceptions only to catch masterpieces, <strong>like me ;)</strong>.</p>
  </div>

  <div class="sig">
    <div>
      <div class="sig-name">CODE <span>::</span> BLACK</div>
      <div class="sig-author">Lorenz Dion O. Baldeo</div>
    </div>
    <div class="sig-meta">
      MANIFESTO v1.0.0<br>
      COMPILED — 2026<br>
      STATUS: RUNNING
    </div>
  </div>

</div>
</div>

<script>
  // ─── FLASHSCREEN DISMISS ───
  const flash = document.getElementById('flashscreen');
  const main  = document.getElementById('main');
  let dismissed = false;

  function dismiss() {
    if (dismissed) return;
    dismissed = true;
    flash.classList.add('hide');
    setTimeout(() => {
      flash.style.display = 'none';
      main.classList.add('visible');
      initMainEffects();
    }, 1100);
  }

  flash.addEventListener('click', dismiss);
  setTimeout(dismiss, 4200);

  // ─── MAIN EFFECTS ───
  function initMainEffects() {

    // 1. CUSTOM CURSOR
    const cursorDot  = document.createElement('div');
    const cursorRing = document.createElement('div');
    cursorDot.id  = 'cur-dot';
    cursorRing.id = 'cur-ring';
    document.body.appendChild(cursorDot);
    document.body.appendChild(cursorRing);

    let mx = -100, my = -100, rx = -100, ry = -100;
    document.addEventListener('mousemove', e => { mx = e.clientX; my = e.clientY; });

    function animCursor() {
      cursorDot.style.transform  = `translate(${mx}px,${my}px)`;
      rx += (mx - rx) * 0.12;
      ry += (my - ry) * 0.12;
      cursorRing.style.transform = `translate(${rx}px,${ry}px)`;
      requestAnimationFrame(animCursor);
    }
    animCursor();

    document.querySelectorAll('a, .trait, button').forEach(el => {
      el.addEventListener('mouseenter', () => cursorRing.classList.add('expand'));
      el.addEventListener('mouseleave', () => cursorRing.classList.remove('expand'));
    });

    // 2. PARTICLE CANVAS (floating data dots)
    const canvas = document.createElement('canvas');
    canvas.id = 'particle-canvas';
    document.body.appendChild(canvas);
    const ctx = canvas.getContext('2d');

    function resizeCanvas() {
      canvas.width  = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    const particles = Array.from({length: 60}, () => ({
      x: Math.random() * window.innerWidth,
      y: Math.random() * window.innerHeight,
      vx: (Math.random() - 0.5) * 0.3,
      vy: (Math.random() - 0.5) * 0.3,
      r: Math.random() * 1.5 + 0.3,
      alpha: Math.random() * 0.4 + 0.05,
    }));

    function drawParticles() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      particles.forEach(p => {
        p.x += p.vx; p.y += p.vy;
        if (p.x < 0) p.x = canvas.width;
        if (p.x > canvas.width) p.x = 0;
        if (p.y < 0) p.y = canvas.height;
        if (p.y > canvas.height) p.y = 0;

        // Connect nearby particles
        particles.forEach(q => {
          const dx = p.x - q.x, dy = p.y - q.y;
          const dist = Math.sqrt(dx*dx + dy*dy);
          if (dist < 120) {
            ctx.beginPath();
            ctx.strokeStyle = `rgba(200,240,0,${0.06 * (1 - dist/120)})`;
            ctx.lineWidth = 0.5;
            ctx.moveTo(p.x, p.y);
            ctx.lineTo(q.x, q.y);
            ctx.stroke();
          }
        });

        ctx.beginPath();
        ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
        ctx.fillStyle = `rgba(200,240,0,${p.alpha})`;
        ctx.fill();
      });
      requestAnimationFrame(drawParticles);
    }
    drawParticles();

    // 3. GLITCH TEXT on section headings
    const glitchEls = document.querySelectorAll('.section-num, .label, .divider span');
    glitchEls.forEach(el => {
      el.setAttribute('data-text', el.textContent);
      el.classList.add('glitch-target');
    });

    function triggerGlitch() {
      const el = glitchEls[Math.floor(Math.random() * glitchEls.length)];
      el.classList.add('glitching');
      setTimeout(() => el.classList.remove('glitching'), 400);
      setTimeout(triggerGlitch, 800 + Math.random() * 2400);
    }
    setTimeout(triggerGlitch, 1500);

    // 4. SCROLL PROGRESS BAR
    const progressBar = document.createElement('div');
    progressBar.id = 'scroll-progress';
    document.body.appendChild(progressBar);

    window.addEventListener('scroll', () => {
      const max  = document.body.scrollHeight - window.innerHeight;
      const pct  = max > 0 ? (window.scrollY / max) * 100 : 0;
      progressBar.style.width = pct + '%';
    });

    // 5. TYPEWRITER on pull-quote
    const pq = document.querySelector('.pull-quote p');
    if (pq) {
      const originalHTML = pq.innerHTML;
      let revealed = false;

      const observer = new IntersectionObserver(entries => {
        entries.forEach(entry => {
          if (entry.isIntersecting && !revealed) {
            revealed = true;
            pq.innerHTML = '';
            const tmp = document.createElement('div');
            tmp.innerHTML = originalHTML;
            const text = tmp.textContent;
            let i = 0;
            function type() {
              if (i <= text.length) {
                // Re-render with span color preserved
                const plain = text.slice(0, i);
                const colored = plain.replace('invariants', '<span>invariants</span>');
                pq.innerHTML = colored + (i < text.length ? '<span class="tw-cursor">|</span>' : '');
                i++;
                setTimeout(type, 28);
              }
            }
            type();
            observer.disconnect();
          }
        });
      }, { threshold: 0.5 });
      observer.observe(pq);
    }

    // 6. MATRIX RAIN on hover over .title
    const titleEl = document.querySelector('.title');
    let matrixActive = false;
    let matrixCanvas, matrixCtx, matrixInterval;

    if (titleEl) {
      titleEl.addEventListener('mouseenter', () => {
        if (matrixActive) return;
        matrixActive = true;
        matrixCanvas = document.createElement('canvas');
        matrixCanvas.id = 'matrix-canvas';
        const rect = titleEl.getBoundingClientRect();
        matrixCanvas.style.position = 'fixed';
        matrixCanvas.style.top = rect.top + 'px';
        matrixCanvas.style.left = rect.left + 'px';
        matrixCanvas.style.width = rect.width + 'px';
        matrixCanvas.style.height = rect.height + 'px';
        matrixCanvas.width  = rect.width;
        matrixCanvas.height = rect.height;
        matrixCanvas.style.pointerEvents = 'none';
        matrixCanvas.style.zIndex = '200';
        matrixCanvas.style.opacity = '0.5';
        document.body.appendChild(matrixCanvas);
        matrixCtx = matrixCanvas.getContext('2d');

        const cols = Math.floor(rect.width / 14);
        const drops = Array(cols).fill(0);
        const chars = '01アイウエオカキクケコサシスセソ:;{}[]<>/\\|=+'.split('');

        matrixInterval = setInterval(() => {
          matrixCtx.fillStyle = 'rgba(8,8,8,0.15)';
          matrixCtx.fillRect(0, 0, matrixCanvas.width, matrixCanvas.height);
          matrixCtx.fillStyle = '#c8f000';
          matrixCtx.font = '12px "Share Tech Mono"';
          drops.forEach((y, i) => {
            const ch = chars[Math.floor(Math.random() * chars.length)];
            matrixCtx.fillText(ch, i * 14, y * 14);
            drops[i] = y * 14 > matrixCanvas.height && Math.random() > 0.975 ? 0 : y + 1;
          });
        }, 40);
      });

      titleEl.addEventListener('mouseleave', () => {
        matrixActive = false;
        clearInterval(matrixInterval);
        if (matrixCanvas) matrixCanvas.remove();
      });
    }

    // 7. TRAIT CARD TILT
    document.querySelectorAll('.trait').forEach(card => {
      card.addEventListener('mousemove', e => {
        const r = card.getBoundingClientRect();
        const x = (e.clientX - r.left) / r.width  - 0.5;
        const y = (e.clientY - r.top)  / r.height - 0.5;
        card.style.transform = `perspective(600px) rotateY(${x * 12}deg) rotateX(${-y * 12}deg) scale(1.03)`;
      });
      card.addEventListener('mouseleave', () => {
        card.style.transform = '';
      });
    });

    // 8. LIVE CLOCK in header
    const metaEl = document.querySelector('.header .meta');
    if (metaEl) {
      function updateClock() {
        const now = new Date();
        const hh  = String(now.getHours()).padStart(2,'0');
        const mm  = String(now.getMinutes()).padStart(2,'0');
        const ss  = String(now.getSeconds()).padStart(2,'0');
        metaEl.textContent = `manifesto.md — ${hh}:${mm}:${ss}`;
      }
      updateClock();
      setInterval(updateClock, 1000);
    }

    // 9. SECTION HIGHLIGHT on scroll
    const sections = document.querySelectorAll('.section, .pull-quote, .final');
    const sectionObserver = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('in-view');
        }
      });
    }, { threshold: 0.2 });
    sections.forEach(s => sectionObserver.observe(s));

  }
</script>
</body>
</html>
